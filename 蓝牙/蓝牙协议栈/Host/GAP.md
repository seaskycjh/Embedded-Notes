GAP

1 广播和扫描响应数据格式

广播和扫描响应数据由一个重要部分和一个非重要部分组成。重要部分包含一系列 AD 结构体，每个 AD 结构体包含 1 字节的长度字段和数据字符。数据字段的首字节包含 AD 类型字段，剩余部分由 AD 类型决定，称为 AD 数据。非重要部分用于填充 0，使数据扩展到 31 字节。

若长度字段设置为 0，则数据字段为 0 字节。只有在允许提前终止广播或扫描响应数据时才会发生。

只有重要部分需要通过空中发送。

| 数据类型值 | 数据类型名     |
| ---------- | -------------- |
| 0x01       | Flags          |
| 0x02       |                |
| 0x03       | 16-bit UUIDs   |
| 0x04       |                |
| 0x05       | 32-bit UUIDs   |
| 0x06       |                |
| 0x07       | 128-bit UUIDs  |
| 0x08       | 缩短的本地名称 |
| 0x09       | 完整本地名称   |

1.1 Flags

Flags 字段可以为 0 或 多个字节，置 0 为假，置 1 为真。

| Bit  | 描述                                |
| ---- | ----------------------------------- |
| 0    | LE 有限可发现模式                   |
| 1    | LE 一般可发现模式                   |
| 2    | BR/EDR 不支持                       |
| 3    | LE 和 BR/EDR 相同设备能力（控制器） |
| 4    | LE 和 BR/EDR 相同设备能力（主机）   |
| 5-7  | 保留                                |

