## Linux基础

[TOC]

---

### 1 Linux的主要组成部分
Linux一般包括四个主要部分：内核（Kernel）、命令解释层（Shell或其他）、文件结构（File Structure）和实用工具。

**内核**：内核是Linux系统的心脏，是运行程序和管理硬件设备的内核程序，决定着系统的性能和稳定性。内核包括5个部分：进程管理、内存管理、硬件设备驱动、文件系统驱动、网络管理。

**Shell**：Shell是系统的用户界面，提供了用户与内核进行交互操作的一种接口。它接收用户输入的命令并把它送入内核执行，实际上是一个命令解释器。

**文件结构**：文件结构是文件存放在磁盘等存储设备上的组织方法，体现在对文件和目录的组织上。

**实用工具**：辅助用户完成特定任务，可分为：编辑器、过滤器、交互程序。

### 2 Linux内核
Linux内核由5个子系统组成：进程调度、内存管理、虚拟文件系统、网络接口、进程间通信。

**进程调度（SCHED）**：控制进程对CPU的访问，Linux使用较简单的基于优先级的进程调度算法。

**内存管理（MM）**：允许多个进程安全地共享主内存区域，Linux的内存管理支持虚拟内存。

**虚拟文件系统（VFS）**：分为逻辑文件系统和设备驱动程序。

**网络接口（NET）**：提供对每种网络标准的存取和各种网络硬件的支持。

**进程间通信（IPC）**：支持进程间的各种通信机制。

### 3 基础概念
#### 3.1 文件系统
文件系统是指操作系统中与管理文件有关的软件和数据。在 Windows下，目录结构属于分区；Linux 下，分区属 于目录结构。在Linux中把每一个分区和某一个目录对应，这个把分区和目录对应的过程叫做挂载（Mount），这个挂载在文件树中的位置就是挂载点。
#### 3.2 主分区、扩展区和逻辑分区
硬盘分区是针对一个硬盘进行操作的，它可以分为：主分区、扩展分区、逻辑分区。**主分区（1~3个）**就是包含操作系统启动所必需的文件和数据的硬盘分区。**扩展分区（0~1个）**也就是除主分区外的分区，但它不能直接使用，必须再将它划分为若干个**逻辑分区（数量无限制）**才可使用。
#### 3.3 SWAP交换分区
为了运行大型的程序，Linux 在硬盘上划出一个区域来当作临时的内存，而Windows 操作系统把这个区域叫做**虚拟内存**，Linux 把它叫做**交换分区swap**。
#### 3.4 分区格式
 Windows 就选择了FAT32、NTFS两种格式，Linux 使用EXT2格式，后来使用EXT3格式。
#### 3.5 GRUB
GRUB 是一种引导装入器（类似在嵌入式中非常重要的bootloader），它负责装入内核并引导Linux 系统，位于硬盘的起始部分。

### 4 文件类型及文件属性
#### 4.1 文件类型
**普通文件**：包括文本文件、shell脚本、二进制的可执行程序和各种类型的数据。 
**目录文件**：在 Linux中，目录也是文件，它们包含文件名和子目录名以及指向那些文件和子目录的指针。Linux 系统中的每个文件都被赋予惟一的数值，而这个数值被称作索引节点。
**链接文件**：类似于 Windows中的“快捷方式”，但是它的功能更为强大，可以实现对不同的目录、文 件系统甚至是不同的机器上的文件直接访问，并且不必重新占用磁盘空间。
**设备文件**：Linux 把设备都当作文件一样来进行操作，与设备相关的文件一般都在/dev 目录下，包括块设备文件和字符设备文件。
**块设备**是指数据的读写是以块（如由柱面和扇区编址的块）为单位的设备，如硬盘。
**字符设备**主要是指串行端口的接口设备。

#### 4.2 文件属性
文件的访问属性有3种不同的访问权限：可读（r）、可写（w）和可执行（x），无权限（-）；有3个不同的用户级别：文件拥有者（u）、所属的用户组（g）和系统里的其他用户（o）。文件属性由10位字符组表示。如-rw-r--r--（普通文件，拥有者可读写，用户组可读，其他用户可读）。
第一个字符表示文件类型：-普通文件 d目录文件 l链接文件 c字符设备 b块设备 p命名管道 f堆栈文件 s套接字。
第一个字符之后有三个三位字符组：
第一个三位字符组表示文件拥有者（u）对该文件的权限。 第二个三位字符组表示文件用户组（g）对该文件的权限。 第三个三位字符组表示系统其他用户（o）对该文件的权限。
**由于每3位表示一个用户级别的权限，故可用8进制数来表示文件权限，如rw-r--r--可表示为0611。**

### 5 文件系统
**ext2和ext3**：ext3是ext2的升级版，采用日志式管理机制，使文件系统具有很强的快速恢复能力。

**swap**：该文件系统是 Linux 中作为交换分区使用的。

**vfat**：Linux 中把 DOS 中采用的 FAT 文件系统（包括 FAT12、FAT16 和 FAT32）都称为vfat 文件系统。

**NFS**：指网络文件系统，可以很方便地在局域网内实现文件共享，并且使多台主机共享同一主机上的文件系统。

**ISO9660**：光盘所使用的文件系统。

### 6 Linux目录结构
**/bin**：存放Linux常用操作命令的执行文件。

**/boot**：存放操作系统启动时所要用到的程序。

**/dev**：存放Linux系统中使用的所有外部设备。并不是存放外部设备的驱动程序，它实际上是一个访问这些外部设备的端口。

**/etc**：存放系统管理时要用到的各种配置文件和子目录。包括网络配置文件、文件系统、x系统配置文件、设备配置信息、设置用户信息等。

**/home**：默认的用户工作根目录。

**/lib**：存放系统动态链接共享库的。

**/lost+found**：存放系统产生异常时的一些遗失的片段。

**/media**：光驱和软驱的挂载点。

**/mnt**：软驱、光驱、硬盘的挂载点。

**/proc**：放置系统核心与执行程序所需的一些信息，在内存中由系统产生，不占用硬盘空间。

**/root**：超级用户登录时的主目录。

**/sbin**：存放系统管理员常用的系统管理程序。

**/tmp**：来存放不同程序执行时产生的临时文件。

**/usr**：存放用户程序和文件，/usr/bin存放系统用户使用的应用程序，/usr/sbin存放超级用户使用的比较高级的管理程序和系统守护程序，/usr/src是内核源代码默认的放置目录。

**/srv**：存放一些服务启动之后需要提取的数据。

**/sys**：安装了 2.6 内核中新出现的一个文件系统 sysfs。

**/var**：存放很多服务的日志信息。