# Linux常用命令

标签（空格分隔）： Linux基础

[TOC]

---

### 1 目录操作
**rmdir**：删除空目录，`rmdir [选项] dirname`。

### 2 文件相关命令

#### 2.1 目录

**cd [路径]**：改变当前工作目录，可为相对路径或绝对路径。

**pwd**：显示当前工作目录。

**ls [选项] [文件]**：列出目录和文件的信息。

| 选项 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| -l   | 显示文件类型与权限、链接数、所有者名、组名、大小（Byte）、修改时间及名字 |
| -a   | 列出目录中所有文件，包括以“.”开头的隐藏文件                  |
| -d   | 将目录名和其他文件一样列出，而不是列出目录的内容             |
| -f   | 不排序目录内容，按它们在磁盘上存储的顺序列出                 |

**mkdir [选项] 路径**：创建一个目录。

-m：对新建目录设置存取权限。

-p：可以是一个路径名称，即一次可以建立多个目录。

**cat [选项] 文件1 文件2…**：连接并显示指定的一个或多个文件的有关信息。

#### 2.2 复制、移动、删除

**cp [选项] 源文件或目录 目标文件或目录**：将文件或目录复制到另一文件或目录中。

| 选项 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| -a   | 保留链接、文件属性，并复制其子目录，其作用等于 -dpr 选项的组合 |
| -d   | 复制时保留链接                                               |
| -p   | 复制源文件内容及其修改时间和访问权限                         |
| -r   | 递归复制该目录下所有的子目录和文件                           |
| -i   | 在覆盖目标文件之前将给出提示要求用户确认                     |
| -f   | 删除已经存在的目标文件而不提示                               |

**mv [选项] 源文件或目录 目标文件或目录**：为文件或目录改名或移动文件。

**rm [选项] 文件或目录**：删除一个目录中的一个或多个文件或目录。

| 选项 | 含义                                     |
| ---- | ---------------------------------------- |
| -i   | 进行交互式删除                           |
| -f   | 禁止交互式操作                           |
| -r   | 参数中列出的全部目录和子目录均递归地删除 |

#### 2.3 权限

**chown和chgrp**：修改文件所有者和组别，改变文件的组所有权。

**chmod**：改变文件的访问权限。

-v：显示权限变更的详细资料。

#### 2.4 查找

**grep [选项] 格式 [文件]**：在指定文件中搜索特定内容并输出。

| 选项 | 含义                                   |
| ---- | -------------------------------------- |
| -c   | 只输出匹配行的计数                     |
| -I   | 不区分大小写（只适用于单字符）         |
| -h   | 查询多文件时不显示文件名               |
| -l   | 查询多文件时只输出包含匹配字符的文件名 |
| -n   | 显示匹配行及行号                       |
| -v   | 显示不包含匹配文本的所有行             |

**find [路径] [选项] [描述]**：在指定目录中搜索文件。

| 描述   | 含义                                    |
| ------ | --------------------------------------- |
| -name  | 支持通配符*和?                          |
| -user  | 搜索文件属主为用户名（ID 或名称）的文件 |
| -print | 输出搜索结果，并且打印                  |

#### 2.5 链接

**ln [选项] 目标 目录**：为某一个文件在另外一个位置建立一个符号链接。

当需要在不同的目录用到相同的文件时，Linux 允许用 户不用在每一个需要的目录下都存放一个相同的文件，而只需将其他目录下的文件用 ln 命令链接即可。

-s：建立符号链接。

### 3 压缩、解压和打包

**gzip [选项] 文件名**：对文件进行压缩和解压缩。

| 选项 | 含义                                         |
| ---- | -------------------------------------------- |
| -c   | 将输出信息写到标准输出上，并保留原有文件     |
| -d   | 将压缩文件解压                               |
| -l   | 对每个压缩文件，显示下列字段：               |
| -r   | 查找指定目录并压缩或解压缩其中的所有文件     |
| -t   | 测试，检查压缩文件是否完整                   |
| -v   | 对每一个压缩和解压的文件，显示文件名和压缩比 |

**tar**：将用户指定的文件或目录打包成一个文件，但不做压缩。

### 5 用户系统
#### 5.1 用户切换
**su [选项] [使用者]**：变更为其他使用者的身份。

**环境变量**：实际上就是用户运行环境的参数集合。Linux 是一个多用户的操作系统。 而且在每个用户登录系统后，都会有一个专有的运行环境。

| 环境变量     | 含义                     |
| ------------ | ------------------------ |
| PATH         | 系统路径                 |
| HOME         | 系统根目录               |
| HISTSIZE     | 保存历史命令记录的条数   |
| LOGNAME      | 当前用户的登录名         |
| HOSTNAME     | 主机的名称               |
| SHELL        | 当前用户用的是哪种 shell |
| LANG/LANGUGE | 和语言相关的环境变量     |
| MAIL         | 当前用户的邮件存放目录   |

**设置环境变量**：

通过echo显示字符串（指定环境变量）。

通过export设置新的环境变量。

通过env显示所有环境变量。

通过set命令显示所有本地定义的 shell 变量。

通过unset命令来清除环境变量。

设置当前用户的环境变量：

```shell
//打开配置文件
vim ~/.bashrc
//在此文件尾添加所需路径
export PATH=$PATH:/usr/local/arm/bin
//保存并退出
```

设置root用户的环境变量：打开文件/root/.bashrc，操作同上。

#### 5.2 用户管理
**useradd [选项] 用户名**：添加用户账号。

**passwd [对应账号]**：设置账号密码。

### 5.3 系统管理命令
**ps [选项]**：显示当前系统中由该用户运行的进程列表。

-ef：查看所有进程及其 PID（进程号）、系统时间、命令详细目录、执行者等。

-aux：除可显示-ef 所有内容外，还可显示 CPU 及内存占用率、进程状态。

**kill [选项] 进程号**：输出特定信号给指定进程。

-s：将指定信号发送给进程。

-l：列出所有可用的信号名称。

**shutdown [选项] [时间]**：关闭或重启 Linux 系统。

**uptime**：显示系统已经运行了多长时间。

#### 5.4 磁盘相关命令
**free [选项]**：查看当前系统内存的使用情况。

**fdisk [-l]**：查看硬盘分区情况及对硬盘进行分区管理。

IDE硬盘对应的设备名称分别为 hda、hdb、hdc 和hdd，SCSI 硬盘对应的设备名称则为 sda、sdb、…。

#### 5.5 文件系统挂载命令
**mount [选项] [类型] 设备文件名 挂载点目录**：把文件系统或不同的设备挂载到相应的目录下。

-a：依照/etc/fstab的内容装载所有相关的硬盘。

-l：列出当前已挂载的设备、文件系统名称和挂载点。

-t 类型：将设备以指定类型的文件格式装载到挂载点上。

-f：通常用于除错，模拟整个挂载的过程，通常会和 -v 一起使用。

**umount 挂载点目录**：用于卸载设备。

### 6 网络管理
**ifconfig**：查看和配置网络接口的地址和参数，包括IP地址、网络掩码和广播地址等。

**ftp**：允许用户利用ftp协议上传和下载文件。