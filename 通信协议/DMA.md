DMA

1 简介

DMA即直接存储器存取（Direct Memory Access），是一种快速传送数据的机制。

1.1 工作原理

DMA 是指外部设备不通过 CPU 而直接与系统内存交换数据的接口技术。一般情况下，要把外设的数据读入内存或把内存的数据传送到外设，都要通过 CPU 控制完成，例如 CPU 程序查询或者中断方式，但缺点是速度比较慢。DMA 在外设与内存间直接进行数据交换，而不通过 CPU，因此数据传输的速度取决于存储器和外设的工作速度。

1.2 工作方式

DMA 有两种基本的传送方式：

单字节方式：每次 DMA 请求传送一个字节，传送完成后撤除 DMA 请求信号，释放总线。

多字节方式：每次 DMA 请求连续传送一个数据块，传送完成后撤除 DMA 请求，释放总线。

1.3 DMA 与 CPU 调度

- 停止 CPU 访问内存：DMA 获得总线控制权后，进行数据传输，传输完毕后将总线控制权交还给 CPU。
- 周期挪用：
- DMA 与 CPU 交替访问：