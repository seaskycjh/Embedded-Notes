## 嵌入式开发基础知识

[TOC]

------

### 1 存储

#### 1.1 Flash存储器

Flash存储器是一种非易失性存储器，有以下特点：

**区块结构**：在物理上分成若干个区块，区块之间相互独立。

**先擦后写**：Flash的写操作只能将数据位从1写成0，不能从0写成1，所以在对存储器进行写入之前必须先执行擦除操作，将预写入的数据位初始化为1。

**位反转**：由于Flash的固有特性，在读写过程中偶尔会产生一位或几位的数据错误。

根据结构的不同可以将其分为NOR Flash和NAND Flash：

**NOR Flash**：传输效率很高，在1MB~4MB的小容量时具有很高的成本效益，但是很低的写入和擦除速度大大影响了它的性能。

**NAND Flash**：可以达到高存储密度，并且写入和擦除的速度也很快，但是闪存需要特殊的系统接口。

**二者的区别**：

（1）NOR Flash的读速度比NAND Flash稍快一些。

（2）NAND Flash的擦除和写入速度比NOR Flash快很多。

（3）NAND Flash的随机读取能力差，适合大量数据的连续读取。

（4）NOR Flash的容量一般较小，通常在1MB~8MB之间，主要应用在代码存储介质中。NAND Flash只用在8MB以上的产品中，适用于资料存储。

（5）NAND Flash中每个块的最大擦写次数是一百万次，而NOR Flash是十万次。

#### 1.2 RAM存储器

**SRAM**：表示静态随机存取存储器，只要供电它就会保持一个值，它没有刷新周期，由触发器构成基本单元，集成度低，每个SRAM存储单元由6个晶体管组成，因此其成本较高。它具有较高速率，常用于高速缓冲存储器。

**DRAM**：表示动态随机存取存储器。这是一种以电荷形式进行存储的半导体存储器。它的每个存储单元由一个晶体管和一个电容器组成，数据存储在电容器中。电容器会由于漏电而导致电荷丢失，因而DRAM器件是不稳定的。它必须有规律地进行刷新，从而将数据保存在存储器中。

**SDRAM**：表示同步动态随机存取存储器。同步是指内存工作需要同步时钟，动态是指存储器阵列需要不断的刷新来保证数据不丢失。

**DDRAM**：表示双倍速率同步动态随机存取存储器，DDR内存则是一个时钟周期内传输两次次数据，它能够在时钟的上升期和下降期各传输一次数据。

#### 1.3 硬盘、光盘、SD卡



### 2 接口技术

#### 2.1 GPIO

#### 2.2 键盘接口

键盘的两种形式：线性键盘和矩阵键盘。

**行扫描法**：是矩阵键盘按键常用的识别方法，

#### 2.3 显示接口

通常，LCD控制器工作的时候，通过DMA请求总线，直接通过SDRAM控制器读取SDRAM中指定地址(显示缓冲区)的数据，此数据经过LCD控制器转换成液晶屏扫描数据格式，直接驱动液晶显示器。

#### 2.4 音频接口

数字音频(PCM)：是CD或DVD采用的数据格式。PCM音频数据速率为1.41Mb/s;

MPEG层3音频(MP3)：MP3播放器采用的音频格式。立体声MP3数据速率为112kb/s至128kb/s。

ATSC数字音频压缩标准(AC3)：数字TV、HDTV和电影数字音频编码标准，立体声AC3编码后的数据速率为192kb/s。

IIS是音频数据的编码或解码常用的串行音频数字接口。

#### 2.5 串行接口

串行通信是指，使数据一位一位地进行传输而实现的通信。与并行通信相比，串行通信具有传输线少、成本低等优点，特别适合远距离传送;缺点使速度慢。

**通信模式**：单工、半双工、全双工。

**同步通信**：同步方式不仅在字符之间是同步的，而且在字符与字符之间的时序仍然是同步的，

**异步通信**：把每个字符当作独立的信息来传输，并按照一固定且预定的时序传送，但在字符之间却取决于字符与字符的任意时序。必须遵循3项规定：

- 字符格式：起始位+数据+校验位+停止位(检验位可无)。

- 波特率：每秒传送的位数。

- 校验位：奇偶检验。奇校验：要使字符加上校验位有奇数个“1”。偶检验：要使字符加上校验位有偶数个“1”。

**RS-232C**：电平特性为负逻辑。

- 在TxD和RxD上：逻辑1为-3V～-15V，逻辑0为3V～15V。
- 在TES、CTS、DTR、DCD等控制线上：信号有效(ON状态)为3V～15V，信号无效(OFF状态)为-3V～-15V

**RS-422串行通信**：

- 单机发送、多机接收的单向、平衡传输规范，传输速率可达10Mb/s。
- 采用差分传输方式，也称做平衡传输，使用一对双绞线。
- 需要一终端电阻，要求其阻值约等于传输电缆的特性阻抗。

**RS-485串行总线**：

- 在RS-422的基础上建立的标准，增加了多点、双向通信能力。
- 采用平衡发送和差分接收，具有抑制共模干扰的能力。
- 需要两个终端电阻。在近距离(300m一下)传输可不需要终端电阻。

#### 2.6 并行接口

并行接口的数据传输率比串行接口快8倍，标准并行接口的数据传输率为1Mb/s，一般用来连接打印机、扫描仪等，所以又称打印口。

#### 2.7 USB接口

#### 2.8 SPI接口

SPI是一个同步协议接口，所有的传输都参照一个共同的时钟，这个同步时钟有主机产生，接收数据的外设使用时钟来对串行比特流的接收进行同步化。

在多个设备连接到主机的同一个SPI接口时，主机通过从设备的片选引脚来选择。

SPI主要使用4个信号：主机输出/从机输入(MOSI)，主机输入/从机输出(MISO)、串行时钟SCLK和外设片选CS。

#### 2.9 IIC接口

#### 2.10 以太网接口

#### 2.11 CAN总线接口

#### 2.12 WLAN接口

#### 2.13 蓝牙接口